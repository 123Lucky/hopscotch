(function(c,e){var o,g,l,k,i,a,n=c[e],j="undefined",b=false,d=(typeof window.jQuery!==j),m=(typeof window.sessionStorage!==j),h=document.body.style,f=(typeof h.MozTransition!==j||typeof h.MsTransition!==j||typeof h.webkitTransition!==j||typeof h.OTransition!==j||typeof h.transition!==j);if(n){return}a=function(){if(b){n.startTour()}};if(window.addEventListener){window.addEventListener("load",a,false)}else{if(window.attachEvent){window.attachEvent("onload",a)}}k={addClass:function(r,t){var q,s,p;if(r.className.length===0){r.className=t}else{q=r.className.split(" ");for(s=0,p=q.length;s<p;++s){if(q[s]===t){return}}q.splice(0,0,t);r.className=q.join(" ")}},removeClass:function(p,u){var t,x,v,s,q,w,r;x=u.split(" ");t=p.className.split(" ");for(s=0,w=x.length;s<w;++s){v=x[s];for(q=0,r=t.length;q<r;++q){if(t[q]===v){break}}if(q<r){t.splice(q,1)}}p.className=t.join(" ")},getPixelValue:function(q){var p=typeof q;if(p==="number"){return q}if(p==="string"){return parseInt(q,10)}return 0},valOrDefault:function(q,p){return typeof q!==j?q:p},invokeCallbacks:function(t,q){var s=i[t],r=0,p=s.length;for(;r<p;++r){s[r].cb.apply(this,q)}},getScrollTop:function(){if(typeof window.pageYOffset!==j){return window.pageYOffset}else{return document.documentElement.scrollTop}},getScrollLeft:function(){if(typeof window.pageXOffset!==j){return window.pageXOffset}else{return document.documentElement.scrollLeft}},getWindowHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement.clientHeight},getWindowWidth:function(){return window.innerWidth?window.innerWidth:document.documentElement.clientWidth},addClickListener:function(q,p){return q.addEventListener?q.addEventListener("click",p,false):q.attachEvent("onclick",p)},evtPreventDefault:function(p){if(p.preventDefault){p.preventDefault()}else{if(event){event.returnValue=false}}},extend:function(q,p){var r;for(r in p){if(p.hasOwnProperty(r)){q[r]=p[r]}}},getStepTarget:function(p){if(!p||!p.target){return null}if(typeof p.target==="string"){if(/[#\.].*/.test(p.target)){if(document.querySelector){return document.querySelector(p.target)}if(d){return jQuery(p.target)}if(window.Sizzle){return Sizzle(p.target)}if(p.target[0]==="#"){return document.getElementById(p.target.substring(1))}return null}return document.getElementById(p.target)}return p.target},setState:function(r,s,t){var p="",q;if(m){sessionStorage.setItem(r,s)}else{if(t){q=new Date();q.setTime(q.getTime()+(t*24*60*60*1000));p="; expires="+q.toGMTString()}document.cookie=r+"="+s+p+"; path=/"}},getState:function(q){var s=q+"=",p=document.cookie.split(";"),r,t;if(m){return sessionStorage.getItem(q)}else{for(r=0;r<p.length;r++){t=p[r];while(t.charAt(0)===" "){t=t.substring(1,t.length)}if(t.indexOf(s)===0){return t.substring(s.length,t.length)}}return null}},clearState:function(p){if(m){sessionStorage.removeItem(p)}else{this.setState(p,"",-1)}}};i={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]};l={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"};g=function(u){var q=false,p,t=function(y,x){var w=document.createElement("input");w.id=y;w.type="button";w.value=x;k.addClass(w,"hopscotch-nav-button");if(y.indexOf("prev")>=0){k.addClass(w,"prev")}else{k.addClass(w,"next")}return w},r=function(x,w,z){var y="hide";if(z){y="hide-all"}if(typeof w===j){w=true}if(w){k.removeClass(x,y)}else{k.addClass(x,y)}},s=function(z){var E,w,C,y,D,A,B=6,H=k.getStepTarget(z),x=this.element,G=this.arrowEl,F=k.getPixelValue(z.arrowOffset);E=k.getPixelValue(z.width)||u.bubbleWidth;C=k.valOrDefault(z.padding,u.bubblePadding);k.removeClass(x,"fade-in-down fade-in-up fade-in-left fade-in-right");y=H.getBoundingClientRect();if(z.orientation==="top"){w=x.offsetHeight;D=(y.top-w)-u.arrowWidth;A=y.left}else{if(z.orientation==="bottom"){D=y.bottom+u.arrowWidth;A=y.left}else{if(z.orientation==="left"){D=y.top;A=y.left-E-2*C-2*B-u.arrowWidth}else{if(z.orientation==="right"){D=y.top;A=y.right+u.arrowWidth}}}}if(!F){G.style.top="";G.style.left=""}else{if(z.orientation==="top"||z.orientation==="bottom"){G.style.top="";G.style.left=F+"px"}else{if(z.orientation==="left"||z.orientation==="right"){G.style.left="";G.style.top=F+"px"}}}A+=k.getPixelValue(z.xOffset);D+=k.getPixelValue(z.yOffset);if(!z.fixedElement){D+=k.getScrollTop();A+=k.getScrollLeft()}x.style.position=(z.fixedElement?"fixed":"absolute");if(u.animate&&d&&!f){$(x).animate({top:D+"px",left:A+"px"})}else{x.style.top=D+"px";x.style.left=A+"px"}},v=function(){var A=document.createElement("div"),B=document.createElement("div"),z=document.createElement("div"),y=this,C=false,x,w;this.element=A;this.containerEl=B;this.titleEl=document.createElement("h3");this.numberEl=document.createElement("span");this.contentEl=document.createElement("p");A.id="hopscotch-bubble";k.addClass(A,"animated");B.id="hopscotch-bubble-container";this.numberEl.id="hopscotch-bubble-number";B.appendChild(this.numberEl);z.appendChild(this.titleEl);z.appendChild(this.contentEl);z.id="hopscotch-bubble-content";B.appendChild(z);A.appendChild(B);this.initNavButtons();this.initCloseButton();this.initArrow();x=function(){if(C||!q){return}C=true;w=setTimeout(function(){s.call(y,p,false);C=false},200)};if(window.addEventListener){window.addEventListener("resize",x,false)}else{if(window.attachEvent){window.attachEvent("onresize",x,false)}}this.hide();document.body.appendChild(A);return this};this.initNavButtons=function(){var w=document.createElement("div");this.prevBtnEl=t("hopscotch-prev",l.prevBtn);this.nextBtnEl=t("hopscotch-next",l.nextBtn);this.doneBtnEl=t("hopscotch-done",l.doneBtn);k.addClass(this.doneBtnEl,"hide");w.appendChild(this.prevBtnEl);w.appendChild(this.nextBtnEl);w.appendChild(this.doneBtnEl);k.addClickListener(this.prevBtnEl,function(x){n.prevStep(true)});k.addClickListener(this.nextBtnEl,function(x){n.nextStep(true)});k.addClickListener(this.doneBtnEl,n.endTour);w.id="hopscotch-actions";this.buttonsEl=w;this.containerEl.appendChild(w);return this};this.initCloseButton=function(){var w=document.createElement("a");w.id="hopscotch-bubble-close";w.href="#";w.title=l.closeTooltip;w.innerHTML=l.closeTooltip;k.addClickListener(w,function(y){var x=n.getCurrStepNum(),z=n.getCurrTour(),A=(x===z.steps.length-1);k.invokeCallbacks("close",[z.id,x]);n.endTour(true,A);if(y.preventDefault){y.preventDefault()}else{if(event){event.returnValue=false}}});this.closeBtnEl=w;this.containerEl.appendChild(w);return this};this.initArrow=function(){var w,x;this.arrowEl=document.createElement("div");this.arrowEl.id="hopscotch-bubble-arrow-container";x=document.createElement("div");x.className="hopscotch-bubble-arrow-border";w=document.createElement("div");w.className="hopscotch-bubble-arrow";this.arrowEl.appendChild(x);this.arrowEl.appendChild(w);this.element.appendChild(this.arrowEl);return this};this.renderStep=function(y,D,z,A,E){var F=this,x=k.valOrDefault(y.showNextButton,u.showNextButton),w=k.valOrDefault(y.showPrevButton,u.showPrevButton),C,B;p=y;this.setTitle(y.title?y.title:"");this.setContent(y.content?y.content:"");this.setNum(D);this.orientation=y.orientation;this.showPrevButton(this.prevBtnEl&&w&&(D>0||z>0));this.showNextButton(this.nextBtnEl&&x&&!A);this.nextBtnEl.value=y.showSkip?l.skipBtn:l.nextBtn;if(A){k.removeClass(this.doneBtnEl,"hide")}else{k.addClass(this.doneBtnEl,"hide")}this.setArrow(y.orientation);C=k.getPixelValue(y.width)||u.bubbleWidth;B=k.valOrDefault(y.padding,u.bubblePadding);this.containerEl.style.width=C+"px";this.containerEl.style.padding=B+"px";this.element.style.zIndex=(y.zindex?y.zindex:"");if(y.orientation==="top"){setTimeout(function(){s.call(F,y);if(E){if(!y.fixedElement){E()}else{F.show()}}},5)}else{s.call(this,y);if(E){if(!y.fixedElement){E()}else{F.show()}}}return this};this.setTitle=function(w){if(w){this.titleEl.innerHTML=w;k.removeClass(this.titleEl,"hide")}else{k.addClass(this.titleEl,"hide")}return this};this.setContent=function(w){if(w){this.contentEl.innerHTML=w;k.removeClass(this.contentEl,"hide")}else{k.addClass(this.contentEl,"hide")}return this};this.setNum=function(w){if(l.stepNums&&w<l.stepNums.length){w=l.stepNums[w]}else{w=w+1}this.numberEl.innerHTML=w};this.setArrow=function(w){if(w==="top"){this.arrowEl.className="down"}else{if(w==="bottom"){this.arrowEl.className="up"}else{if(w==="left"){this.arrowEl.className="right"}else{if(w==="right"){this.arrowEl.className="left"}}}}};this.getArrowDirection=function(){if(this.orientation==="top"){return"down"}if(this.orientation==="bottom"){return"up"}if(this.orientation==="left"){return"right"}if(this.orientation==="right"){return"left"}};this.show=function(){var w=this,x="fade-in-"+this.getArrowDirection(),y=1000;k.removeClass(this.element,"hide");if(u.animate){setTimeout(function(){k.addClass(w.element,"animate")},50)}else{k.addClass(this.element,x);setTimeout(function(){k.removeClass(w.element,"invisible")},50);setTimeout(function(){k.removeClass(w.element,x)},y)}q=true;return this};this.hide=function(w){var x=this.element;w=k.valOrDefault(w,true);x.style.top="";x.style.left="";if(w){k.addClass(x,"hide");k.removeClass(x,"invisible")}else{k.removeClass(x,"hide");if(!u.animate){k.addClass(x,"invisible")}}k.removeClass(x,"animate fade-in-up fade-in-down fade-in-right fade-in-left");q=false;return this};this.showPrevButton=function(w,x){r(this.prevBtnEl,w,x)};this.showNextButton=function(w,x){r(this.nextBtnEl,w,x)};this.showCloseButton=function(w,x){r(this.closeBtnEl,w,x)};this.initAnimate=function(){var w=this;setTimeout(function(){k.addClass(w.element,"animate")},50)};this.removeAnimate=function(){k.removeClass(this.element,"animate")};v.call(this)};o=function(w){var G="hopscotch.tour.state",C=this,B,q,A,u,I,z,p,H,v,y=function(){if(!B){B=new g(q)}return B},D=function(){var J;if(u<0||u>=A.steps.length){return null}else{J=A.steps[u]}return(J.length>0)?J[I]:J},r=function(){C.nextStep(false)},t=function(U){var S=y(),ac=S.element,Y=k.getPixelValue(ac.style.top),X=Y+k.getPixelValue(ac.offsetHeight),V=k.getStepTarget(D()),ad=V.getBoundingClientRect(),aa=ad.top+k.getScrollTop(),W=ad.bottom+k.getScrollTop(),Q=(Y<aa)?Y:aa,J=(X>W)?X:W,Z=k.getScrollTop(),L=Z+k.getWindowHeight(),M=Q-q.scrollTopMargin,T=this,K,P,O,ab,N,R;if(Q>=Z&&(Q<=Z+q.scrollTopMargin||J<=L)){if(U){U()}return}else{if(!q.smoothScroll){window.scrollTo(0,M);if(U){U()}return}else{if(typeof YAHOO!==j&&typeof YAHOO.env!==j&&typeof YAHOO.env.ua!==j&&typeof YAHOO.util!==j&&typeof YAHOO.util.Scroll!==j){K=YAHOO.env.ua.webkit?document.body:document.documentElement;O=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:undefined;P=new YAHOO.util.Scroll(K,{scroll:{to:[0,M]}},q.scrollDuration/1000,O);P.onComplete.subscribe(U);P.animate()}else{if(d){$("body, html").animate({scrollTop:M},q.scrollDuration,U)}else{if(M<0){M=0}ab=(Z>Q)?-1:1;N=Math.abs(Z-M)/(q.scrollDuration/10);R=setInterval(function(){var af=k.getScrollTop(),ae=af+(ab*N);if((ab>0&&ae>=M)||ab<0&&ae<=M){ae=M;clearInterval(R);if(U){U()}window.scrollTo(0,ae);return}window.scrollTo(0,ae);if(k.getScrollTop()===af){clearInterval(R);if(U){U()}}},10)}}}}},x=function(L){var J=false,K;while(!J&&u+L>=0&&u+L<A.steps.length){u+=L;K=D();J=k.getStepTarget(K);if(!J){k.invokeCallbacks("error",[A.id,u])}}if(!J){u=-1}return u},F=function(J,N){var K=y();J=k.valOrDefault(J,true);K.hide();var M=D(),L=u;if(q.skipIfNoElement){x(N);if(u===-1){return this.endTour(true)}}else{if(u+N>=0&&u+N<A.steps.length){u+=N;M=D();if(!k.getStepTarget(M)){k.invokeCallbacks("error",[A.id,u]);return this.endTour(true,false)}}}if(J){if(N>0&&M.onNext){M.onNext()}else{if(N<0&&M.onPrev){M.onPrev()}}k.invokeCallbacks(N>0?"next":"prev",[A.id,L])}this.showStep(u);return this},s=function(O){var M={},K,P,L,J,N;A=O;for(P in O){if(O.hasOwnProperty(P)&&P!=="id"&&P!=="steps"){M[P]=O[P]}}this.resetDefaultOptions();v.call(this,M,true);J=k.getState(q.cookieName);if(J){N=J.split(":");z=N[0];p=N[1];H=undefined;L=p.split("-");if(L.length>1){p=parseInt(L[0],10);H=parseInt(L[1],10)}else{p=parseInt(p,10)}if(N.length>2&&N[2]==="mp"){if(H&&H<A.steps[p].length-1){++H}else{if(p<A.steps.length-1){++p;if(A.steps[p].length>0){H=0}else{H=undefined}}}}}return this},E=function(J){if(J){this.configure(J)}};this.startTour=function(O,N,M){var J,L,K;if(!A){s.call(this,O)}if(typeof N!==j){u=N;I=M}if(document.readyState!=="complete"){b=true;return this}if(typeof u===j){if(A.id===z&&typeof p!==j){u=p;I=H;L=D();K=k.getStepTarget(L);if(!K){--u;L=D();K=k.getStepTarget(L)}if(!K&&q.skipIfNoElement){x(1);K=(u!==-1)&&k.getStepTarget(A.steps[u])}if(!K){this.endTour(false,false);return this}}else{u=0}}k.invokeCallbacks("start",[A.id,u]);J=y();J.hide(false);this.isActive=true;if(q.animate){J.initAnimate()}if(!k.getStepTarget(D())){k.invokeCallbacks("error",[A.id,u]);if(q.skipIfNoElement){this.nextStep(false)}}else{this.showStep(u,I)}return this};this.showStep=function(M,L){var J=this,K=A.steps[M];setTimeout(function(){var R=A.steps,P=R.length,O=A.id+":"+M,N=y(),S=k.getStepTarget(K),Q;u=M;I=L;if(!q.animate){N.hide(false)}Q=(M===P-1)||(L>=K.length-1);N.renderStep(K,M,L,Q,function(){t(function(){N.show()});if(K.onShow){K.onShow()}if(K.nextOnTargetClick){k.addClickListener(S,r)}});k.invokeCallbacks("show",[A.id,u]);if(K.multipage){O+=":mp"}k.setState(q.cookieName,O,1)},K.delay?K.delay:0);return this};this.prevStep=function(J){F.call(this,J,-1);return this};this.nextStep=function(J){var K=D(),L=k.getStepTarget(K);if(K.nextOnTargetClick){L.removeEventListener?L.removeEventListener("click",r,false):L.detachEvent("click",r)}F.call(this,J,1);return this};this.endTour=function(L,J){var K=y();L=k.valOrDefault(L,true);J=k.valOrDefault(J,true);u=0;I=undefined;p=undefined;K.hide();if(L){k.clearState(q.cookieName)}n.isActive=false;if(A&&J){k.invokeCallbacks("end",[A.id])}n.removeCallbacks(true);A=null;return this};this.getCurrTour=function(){return A};this.getCurrStepNum=function(){return u};this.addCallback=function(L,J,K){if(L&&J){i[L].push({cb:J,fromTour:K})}return this};this.removeCallback=function(N,K){var L=i[N],M,J;for(M=0,J=L.length;M<J;++M){if(K===L[M].cb){L.splice(M,1)}}return this};this.removeCallbacks=function(K){var N,L,J,M;for(M in i){if(K){N=i[M];for(L=0,J=N.length;L<J;++L){if(N[L].fromTour){N.splice(L--,1);--J}}}else{i[M]=[]}}return this};this.setCookieName=function(J){G=J;q.cookieName=J;return this};this.resetDefaultOptions=function(){q={animate:false,smoothScroll:true,scrollDuration:1000,scrollTopMargin:200,showCloseButton:true,showPrevButton:false,showNextButton:true,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:true,cookieName:G};return this};v=function(K,L){var J;if(!q){this.resetDefaultOptions()}k.extend(q,K);if(K){k.extend(l,K.i18n)}this.addCallback("next",K.onNext,L).addCallback("prev",K.onPrev,L).addCallback("start",K.onStart,L).addCallback("end",K.onEnd,L).addCallback("show",K.onShow,L).addCallback("error",K.onError,L).addCallback("close",K.onClose,L);J=y();if(q.animate){J.initAnimate()}else{J.removeAnimate()}J.showPrevButton(K.showPrevButton,typeof K.showPrevButton!==j);J.showNextButton(K.showNextButton,typeof K.showNextButton!==j);J.showCloseButton(K.showCloseButton,typeof K.showCloseButton!==j);return this};this.configure=function(J){return v.call(this,J,false)};E.call(this,w)};n=new o();c[e]=n}(window,"hopscotch"));