(function(c,e){var o,g,l,k,i,a,n=c[e],j="undefined",b=false,d=(typeof window.jQuery!==j),m=(typeof window.sessionStorage!==j),h=document.body.style,f=(typeof h.MozTransition!==j||typeof h.MsTransition!==j||typeof h.webkitTransition!==j||typeof h.OTransition!==j||typeof h.transition!==j);if(n){return}a=function(){if(b){n.startTour()}};if(window.addEventListener){window.addEventListener("load",a)}else{if(window.attachEvent){window.attachEvent("onload",a)}}k={addClass:function(r,t){var q,s,p;if(r.className.length===0){r.className=t}else{q=r.className.split(" ");for(s=0,p=q.length;s<p;++s){if(q[s]===t){return}}q.splice(0,0,t);r.className=q.join(" ")}},removeClass:function(p,u){var t,x,v,s,q,w,r;x=u.split(" ");t=p.className.split(" ");for(s=0,w=x.length;s<w;++s){v=x[s];for(q=0,r=t.length;q<r;++q){if(t[q]===v){break}}if(q<r){t.splice(q,1)}}p.className=t.join(" ")},getPixelValue:function(q){var p=typeof q;if(p==="number"){return q}if(p==="string"){return parseInt(q,10)}return 0},valOrDefault:function(q,p){return typeof q!==j?q:p},invokeCallbacks:function(t,q){var s=i[t],r=0,p=s.length;for(;r<p;++r){s[r].cb.apply(this,q)}},getScrollTop:function(){if(typeof window.pageYOffset!==j){return window.pageYOffset}else{return document.documentElement.scrollTop}},getScrollLeft:function(){if(typeof window.pageXOffset!==j){return window.pageXOffset}else{return document.documentElement.scrollLeft}},getWindowHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement.clientHeight},getWindowWidth:function(){return window.innerWidth?window.innerWidth:document.documentElement.clientWidth},addClickListener:function(q,p){return q.addEventListener?q.addEventListener("click",p):q.attachEvent("onclick",p)},evtPreventDefault:function(p){if(p.preventDefault){p.preventDefault()}else{if(event){event.returnValue=false}}},extend:function(q,p){var r;for(r in p){if(p.hasOwnProperty(r)){q[r]=p[r]}}},getStepTarget:function(p){if(typeof p.target==="string"){return document.getElementById(p.target)}return p.target},setState:function(r,s,t){var p="",q;if(m){sessionStorage.setItem(r,s)}else{if(t){q=new Date();q.setTime(q.getTime()+(t*24*60*60*1000));p="; expires="+q.toGMTString()}document.cookie=r+"="+s+p+"; path=/"}},getState:function(q){var s=q+"=",p=document.cookie.split(";"),r,t;if(m){return sessionStorage.getItem(q)}else{for(r=0;r<p.length;r++){t=p[r];while(t.charAt(0)===" "){t=t.substring(1,t.length)}if(t.indexOf(s)===0){return t.substring(s.length,t.length)}}return null}},clearState:function(p){if(m){sessionStorage.removeItem(p)}else{this.setState(p,"",-1)}}};i={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]};l={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"};g=function(u){var q=false,p,t=function(y,x){var w=document.createElement("input");w.id=y;w.type="button";w.value=x;k.addClass(w,"hopscotch-nav-button");if(y.indexOf("prev")>=0){k.addClass(w,"prev")}else{k.addClass(w,"next")}return w},r=function(x,w,z){var y="hide";if(z){y="hide-all"}if(typeof w===j){w=true}if(w){k.removeClass(x,y)}else{k.addClass(x,y)}},s=function(C,z){var F,w,D,y,E,A,B=6,I=k.getStepTarget(z),x=C.element,H=C.arrowEl,G=k.getPixelValue(z.arrowOffset);F=k.getPixelValue(z.width)||u.bubbleWidth;D=k.valOrDefault(z.padding,u.bubblePadding);k.removeClass(x,"fade-in-down fade-in-up fade-in-left fade-in-right");y=I.getBoundingClientRect();if(z.orientation==="top"){w=x.offsetHeight;E=(y.top-w)-u.arrowWidth;A=y.left}else{if(z.orientation==="bottom"){E=y.bottom+u.arrowWidth;A=y.left}else{if(z.orientation==="left"){E=y.top;A=y.left-F-2*D-2*B-u.arrowWidth}else{if(z.orientation==="right"){E=y.top;A=y.right+u.arrowWidth}}}}if(!G){H.style.top="";H.style.left=""}else{if(z.orientation==="top"||z.orientation==="bottom"){H.style.top="";H.style.left=G+"px"}else{if(z.orientation==="left"||z.orientation==="right"){H.style.left="";H.style.top=G+"px"}}}A+=k.getPixelValue(z.xOffset);E+=k.getPixelValue(z.yOffset);if(!z.fixedElement){E+=k.getScrollTop();A+=k.getScrollLeft()}x.style.position=(z.fixedElement?"fixed":"absolute");if(u.animate&&d&&!f){$(x).animate({top:E+"px",left:A+"px"})}else{x.style.top=E+"px";x.style.left=A+"px"}},v=function(){var A=document.createElement("div"),B=document.createElement("div"),z=document.createElement("div"),y=this,C=false,x,w;this.element=A;this.containerEl=B;this.titleEl=document.createElement("h3");this.numberEl=document.createElement("span");this.contentEl=document.createElement("p");A.id="hopscotch-bubble";k.addClass(A,"animated");B.id="hopscotch-bubble-container";this.numberEl.id="hopscotch-bubble-number";B.appendChild(this.numberEl);z.appendChild(this.titleEl);z.appendChild(this.contentEl);z.id="hopscotch-bubble-content";B.appendChild(z);A.appendChild(B);this.initNavButtons();this.initCloseButton();this.initArrow();x=function(){if(C||!q){return}C=true;w=setTimeout(function(){s(y,p,false);C=false},200)};if(window.addEventListener){window.addEventListener("resize",x)}else{if(window.attachEvent){window.attachEvent("onresize",x)}}this.hide();document.body.appendChild(A);return this};this.initNavButtons=function(){var w=document.createElement("div");this.prevBtnEl=t("hopscotch-prev",l.prevBtn);this.nextBtnEl=t("hopscotch-next",l.nextBtn);this.doneBtnEl=t("hopscotch-done",l.doneBtn);k.addClass(this.doneBtnEl,"hide");w.appendChild(this.prevBtnEl);w.appendChild(this.nextBtnEl);w.appendChild(this.doneBtnEl);k.addClickListener(this.prevBtnEl,function(x){n.prevStep(true)});k.addClickListener(this.nextBtnEl,function(x){n.nextStep(true)});k.addClickListener(this.doneBtnEl,n.endTour);w.id="hopscotch-actions";this.buttonsEl=w;this.containerEl.appendChild(w);return this};this.initCloseButton=function(){var w=document.createElement("a");w.id="hopscotch-bubble-close";w.href="#";w.title=l.closeTooltip;w.innerHTML=l.closeTooltip;k.addClickListener(w,function(y){var x=n.getCurrStepNum(),z=n.getCurrTour(),A=(x===z.steps.length-1);k.invokeCallbacks("close",[z.id,x]);n.endTour(true,A);if(y.preventDefault){y.preventDefault()}else{if(event){event.returnValue=false}}});this.closeBtnEl=w;this.containerEl.appendChild(w);return this};this.initArrow=function(){var w,x;this.arrowEl=document.createElement("div");this.arrowEl.id="hopscotch-bubble-arrow-container";x=document.createElement("div");x.className="hopscotch-bubble-arrow-border";w=document.createElement("div");w.className="hopscotch-bubble-arrow";this.arrowEl.appendChild(x);this.arrowEl.appendChild(w);this.element.appendChild(this.arrowEl);return this};this.renderStep=function(y,D,z,A,E){var F=this,x=k.valOrDefault(y.showNextButton,u.showNextButton),w=k.valOrDefault(y.showPrevButton,u.showPrevButton),C,B;p=y;this.setTitle(y.title?y.title:"");this.setContent(y.content?y.content:"");this.setNum(D);this.orientation=y.orientation;this.showPrevButton(this.prevBtnEl&&w&&(D>0||z>0));this.showNextButton(this.nextBtnEl&&x&&!A);this.nextBtnEl.value=y.showSkip?l.skipBtn:l.nextBtn;if(A){k.removeClass(this.doneBtnEl,"hide")}else{k.addClass(this.doneBtnEl,"hide")}this.setArrow(y.orientation);C=k.getPixelValue(y.width)||u.bubbleWidth;B=k.valOrDefault(y.padding,u.bubblePadding);this.containerEl.style.width=C+"px";this.containerEl.style.padding=B+"px";this.element.style.zIndex=(y.zindex?y.zindex:"");if(y.orientation==="top"){setTimeout(function(){s(F,y);if(E){if(!y.fixedElement){E()}else{F.show()}}},5)}else{s(this,y);if(E){if(!y.fixedElement){E()}else{F.show()}}}return this};this.setTitle=function(w){if(w){this.titleEl.innerHTML=w;k.removeClass(this.titleEl,"hide")}else{k.addClass(this.titleEl,"hide")}return this};this.setContent=function(w){if(w){this.contentEl.innerHTML=w;k.removeClass(this.contentEl,"hide")}else{k.addClass(this.contentEl,"hide")}return this};this.setNum=function(w){if(l.stepNums&&w<l.stepNums.length){w=l.stepNums[w]}else{w=w+1}this.numberEl.innerHTML=w};this.setArrow=function(w){if(w==="top"){this.arrowEl.className="down"}else{if(w==="bottom"){this.arrowEl.className="up"}else{if(w==="left"){this.arrowEl.className="right"}else{if(w==="right"){this.arrowEl.className="left"}}}}};this.getArrowDirection=function(){if(this.orientation==="top"){return"down"}if(this.orientation==="bottom"){return"up"}if(this.orientation==="left"){return"right"}if(this.orientation==="right"){return"left"}};this.show=function(){var w=this,x="fade-in-"+this.getArrowDirection(),y=1000;k.removeClass(this.element,"hide");if(u.animate){setTimeout(function(){k.addClass(w.element,"animate")},50)}else{k.addClass(this.element,x);setTimeout(function(){k.removeClass(w.element,"invisible")},50);setTimeout(function(){k.removeClass(w.element,x)},y)}q=true;return this};this.hide=function(w){var x=this.element;w=k.valOrDefault(w,true);x.style.top="";x.style.left="";if(w){k.addClass(x,"hide");k.removeClass(x,"invisible")}else{k.removeClass(x,"hide");if(!u.animate){k.addClass(x,"invisible")}}k.removeClass(x,"animate fade-in-up fade-in-down fade-in-right fade-in-left");q=false;return this};this.showPrevButton=function(w,x){r(this.prevBtnEl,w,x)};this.showNextButton=function(w,x){r(this.nextBtnEl,w,x)};this.showCloseButton=function(w,x){r(this.closeBtnEl,w,x)};this.initAnimate=function(){var w=this;setTimeout(function(){k.addClass(w.element,"animate")},50)};this.removeAnimate=function(){k.removeClass(this.element,"animate")};v.call(this)};o=function(v){var E="hopscotch.tour.state",z,q,y,t,G,x,p,F,u,w=function(){if(!z){z=new g(q)}return z},B=function(){var H=y.steps[t];return(H.length>0)?H[G]:H},A=function(){return y.steps[t].length>0},s=function(S){var Q=w(),aa=Q.element,W=k.getPixelValue(aa.style.top),V=W+k.getPixelValue(aa.offsetHeight),T=k.getStepTarget(B()),ab=T.getBoundingClientRect(),Y=ab.top+k.getScrollTop(),U=ab.bottom+k.getScrollTop(),O=(W<Y)?W:Y,H=(V>U)?V:U,X=k.getScrollTop(),J=X+k.getWindowHeight(),K=O-q.scrollTopMargin,R=this,I,N,M,Z,L,P;if(O>=X&&(O<=X+q.scrollTopMargin||H<=J)){if(S){S()}return}else{if(!q.smoothScroll){window.scrollTo(0,K);if(S){S()}return}else{if(typeof YAHOO!==j&&typeof YAHOO.env!==j&&typeof YAHOO.env.ua!==j&&typeof YAHOO.util!==j&&typeof YAHOO.util.Scroll!==j){I=YAHOO.env.ua.webkit?document.body:document.documentElement;M=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:undefined;N=new YAHOO.util.Scroll(I,{scroll:{to:[0,K]}},q.scrollDuration/1000,M);N.onComplete.subscribe(S);N.animate()}else{if(d){$("body, html").animate({scrollTop:K},q.scrollDuration,S)}else{if(K<0){K=0}Z=(X>O)?-1:1;L=Math.abs(X-K)/(q.scrollDuration/10);P=setInterval(function(){var ad=k.getScrollTop(),ac=ad+(Z*L);if((Z>0&&ac>=K)||Z<0&&ac<=K){ac=K;clearInterval(P);if(S){S()}window.scrollTo(0,ac);return}window.scrollTo(0,ac);if(k.getScrollTop()===ad){clearInterval(P);if(S){S()}}},10)}}}}},D=function(I,L){var K=this,H=y.steps[t+L],J=w();J.hide();setTimeout(function(){var O=B(),N=t,M=false;if(q.skipIfNoElement){while(!M&&t+L>=0&&t+L<y.steps.length){t+=L;O=B();M=k.getStepTarget(O);if(!M){k.invokeCallbacks("error",[y.id,t])}}if(!M){return this.endTour(true)}}else{if(t+L>=0&&t+L<y.steps.length){t+=L;O=B();if(!k.getStepTarget(O)){k.invokeCallbacks("error",[y.id,t]);return this.endTour(true,false)}}}if(I){if(L>0&&O.onNext){O.onNext()}else{if(L<0&&O.onPrev){O.onPrev()}}k.invokeCallbacks(L>0?"next":"prev",[y.id,N])}K.showStep(t)},H.delay?H.delay:0);return this},r=function(M){var K={},I,N,J,H,L;y=M;for(N in M){if(M.hasOwnProperty(N)&&N!=="id"&&N!=="steps"){K[N]=M[N]}}this.resetDefaultOptions();u.call(this,K,true);H=k.getState(q.cookieName);if(H){L=H.split(":");x=L[0];p=L[1];F=undefined;J=p.split("-");if(J.length>1){p=parseInt(J[0],10);F=parseInt(J[1],10)}else{p=parseInt(p,10)}if(L.length>2&&L[2]==="mp"){if(F&&F<y.steps[p].length-1){++F}else{if(p<y.steps.length-1){++p;if(y.steps[p].length>0){F=0}else{F=undefined}}}}}return this},C=function(){if(v){this.configure(v)}};this.startTour=function(L,K,J){var H,I;if(!y){r.call(this,L)}if(document.readyState!=="complete"){b=true;return this}if(typeof K!==j){t=K;G=J}else{if(y.id===x&&typeof p!==j){t=p;G=F;I=B();if(!k.getStepTarget(I)){decrementStep();I=B();if(!k.getStepTarget(I)){this.endTour(false,false);return this}}}else{t=0}}if(!G&&A()){G=0}k.invokeCallbacks("start",[y.id,t]);H=w();H.hide(false);this.isActive=true;if(q.animate){H.initAnimate()}if(!k.getStepTarget(B())){k.invokeCallbacks("error",[y.id,t]);if(q.skipIfNoElement){this.nextStep()}}else{this.showStep(t,G)}return this};this.showStep=function(Q,I){var K=y.steps,J=K[Q],H=K.length,O=y.id+":"+Q,N=w(),R=this,P=k.getStepTarget(J),M,L;t=Q;G=I;if(!q.animate){N.hide(false)}if(typeof I!==j&&A()){J=J[I];O+="-"+I}if(J.nextOnTargetClick){M=function(){R.nextStep();return P.removeEventListener?P.removeEventListener("click",M):P.detachEvent("click",M)}}L=(Q===H-1)||(I>=J.length-1);N.renderStep(J,Q,I,L,function(){s(function(){N.show()});if(J.onShow){J.onShow()}if(J.nextOnTargetClick){k.addClickListener(P,M)}});k.invokeCallbacks("show",[y.id,t]);if(J.multipage){O+=":mp"}k.setState(q.cookieName,O,1);return this};this.prevStep=function(H){D.call(this,H,-1)};this.nextStep=function(H){D.call(this,H,1)};this.endTour=function(J,I){var H=w();J=k.valOrDefault(J,true);I=k.valOrDefault(I,true);t=0;G=undefined;p=undefined;H.hide();if(J){k.clearState(q.cookieName)}n.isActive=false;if(y&&I){k.invokeCallbacks("end",[y.id])}n.removeCallbacks(true);y=null;return this};this.getCurrTour=function(){return y};this.getCurrStepNum=function(){return t};this.getCurrSubstepNum=function(){return G};this.addCallback=function(J,H,I){if(H){i[J].push({cb:H,fromTour:I})}return this};this.removeCallbacks=function(I){var L,J,H,K;for(K in i){if(I){L=i[K];for(J=0,H=L.length;J<H;++J){if(L[J].fromTour){L.splice(J--,1);--H}}}else{i[K]=[]}}return this};this.setCookieName=function(H){E=H;q.cookieName=H};this.resetDefaultOptions=function(){q={animate:false,smoothScroll:true,scrollDuration:1000,scrollTopMargin:200,showCloseButton:true,showPrevButton:false,showNextButton:true,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:true,cookieName:E}};u=function(I,J){var H;if(!q){this.resetDefaultOptions()}k.extend(q,I);if(I){k.extend(l,I.i18n)}this.addCallback("next",I.onNext,J).addCallback("prev",I.onPrev,J).addCallback("start",I.onStart,J).addCallback("end",I.onEnd,J).addCallback("show",I.onShow,J).addCallback("error",I.onError,J).addCallback("close",I.onClose,J);H=w();if(q.animate){H.initAnimate()}else{H.removeAnimate()}H.showPrevButton(I.showPrevButton,typeof I.showPrevButton!==j);H.showNextButton(I.showNextButton,typeof I.showNextButton!==j);H.showCloseButton(I.showCloseButton,typeof I.showCloseButton!==j);return this};this.configure=function(H){return u.call(this,H,false)};C.call(this,v)};n=new o();c[e]=n}(window,"hopscotch"));