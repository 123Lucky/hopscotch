(function(c,d){var m,e,j,i,g,a,l=c[d],h="undefined",b=false,k=(typeof window.sessionStorage!==h),f=document.body.style;if(l){return}a=function(){if(b){l.startTour()}};if(window.addEventListener){window.addEventListener("load",a)}else{if(window.attachEvent){window.attachEvent("onload",a)}}i={addClass:function(p,r){var o,q,n;if(p.className.length===0){p.className=r}else{o=p.className.split(" ");for(q=0,n=o.length;q<n;++q){if(o[q]===r){return}}o.splice(0,0,r);p.className=o.join(" ")}},removeClass:function(n,s){var r,v,t,q,o,u,p;v=s.split(" ");r=n.className.split(" ");for(q=0,u=v.length;q<u;++q){t=v[q];for(o=0,p=r.length;o<p;++o){if(r[o]===t){break}}if(o<p){r.splice(o,1)}}n.className=r.join(" ")},getPixelValue:function(o){var n=typeof o;if(n==="number"){return o}if(n==="string"){return parseInt(o,10)}return 0},valOrDefault:function(o,n){return typeof o!==h?o:n},invokeCallbacks:function(r,o){var q=g[r],p=0,n=q.length;for(;p<n;++p){q[p].cb.apply(this,o)}},getScrollTop:function(){if(typeof window.pageYOffset!==h){return window.pageYOffset}else{return document.documentElement.scrollTop}},getScrollLeft:function(){if(typeof window.pageXOffset!==h){return window.pageXOffset}else{return document.documentElement.scrollLeft}},getWindowHeight:function(){return window.innerHeight?window.innerHeight:document.documentElement.clientHeight},getWindowWidth:function(){return window.innerWidth?window.innerWidth:document.documentElement.clientWidth},addClickListener:function(o,n){return o.addEventListener?o.addEventListener("click",n):o.attachEvent("onclick",n)},evtPreventDefault:function(n){if(n.preventDefault){n.preventDefault()}else{if(event){event.returnValue=false}}},extend:function(o,n){var p;for(p in n){if(n.hasOwnProperty(p)){o[p]=n[p]}}},getStepTarget:function(n){if(typeof n.target==="string"){return document.getElementById(n.target)}return n.target},setState:function(p,q,r){var n="",o;if(k){sessionStorage.setItem(p,q)}else{if(r){o=new Date();o.setTime(o.getTime()+(r*24*60*60*1000));n="; expires="+o.toGMTString()}document.cookie=p+"="+q+n+"; path=/"}},getState:function(o){var q=o+"=",n=document.cookie.split(";"),p,r;if(k){return sessionStorage.getItem(o)}else{for(p=0;p<n.length;p++){r=n[p];while(r.charAt(0)===" "){r=r.substring(1,r.length)}if(r.indexOf(q)===0){return r.substring(q.length,r.length)}}return null}},clearState:function(n){if(k){sessionStorage.removeItem(n)}else{this.setState(n,"",-1)}}};g={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]};j={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"};e=function(s){var o=false,n,r=function(w,v){var u=document.createElement("input");u.id=w;u.type="button";u.value=v;i.addClass(u,"hopscotch-nav-button");if(w.indexOf("prev")>=0){i.addClass(u,"prev")}else{i.addClass(u,"next")}return u},p=function(v,u,x){var w="hide";if(x){w="hide-all"}if(typeof u===h){u=true}if(u){i.removeClass(v,w)}else{i.addClass(v,w)}},q=function(A,x){var D,u,B,w,C,y,z=6,G=i.getStepTarget(x),v=A.element,F=A.arrowEl,E=i.getPixelValue(x.arrowOffset);D=i.getPixelValue(x.width)||s.bubbleWidth;B=i.valOrDefault(x.padding,s.bubblePadding);i.removeClass(v,"fade-in-down fade-in-up fade-in-left fade-in-right");w=G.getBoundingClientRect();if(x.orientation==="top"){u=v.offsetHeight;C=(w.top-u)-s.arrowWidth;y=w.left}else{if(x.orientation==="bottom"){C=w.bottom+s.arrowWidth;y=w.left}else{if(x.orientation==="left"){C=w.top;y=w.left-D-2*B-2*z-s.arrowWidth}else{if(x.orientation==="right"){C=w.top;y=w.right+s.arrowWidth}}}}if(!E){F.style.top="";F.style.left=""}else{if(x.orientation==="top"||x.orientation==="bottom"){F.style.top="";F.style.left=E+"px"}else{if(x.orientation==="left"||x.orientation==="right"){F.style.left="";F.style.top=E+"px"}}}y+=i.getPixelValue(x.xOffset);C+=i.getPixelValue(x.yOffset);if(!x.fixedElement){C+=i.getScrollTop();y+=i.getScrollLeft()}v.style.position=(x.fixedElement?"fixed":"absolute");v.style.top=C+"px";v.style.left=y+"px"},t=function(){var y=document.createElement("div"),z=document.createElement("div"),x=document.createElement("div"),w=this,A=false,v,u;this.element=y;this.containerEl=z;this.titleEl=document.createElement("h3");this.numberEl=document.createElement("span");this.contentEl=document.createElement("p");y.id="hopscotch-bubble";i.addClass(y,"animated");z.id="hopscotch-bubble-container";this.numberEl.id="hopscotch-bubble-number";z.appendChild(this.numberEl);x.appendChild(this.titleEl);x.appendChild(this.contentEl);x.id="hopscotch-bubble-content";z.appendChild(x);y.appendChild(z);this.initNavButtons();this.initCloseButton();this.initArrow();v=function(){if(A||!o){return}A=true;u=setTimeout(function(){q(w,n,false);A=false},200)};if(window.addEventListener){window.addEventListener("resize",v)}else{if(window.attachEvent){window.attachEvent("onresize",v)}}this.hide();document.body.appendChild(y);return this};this.initNavButtons=function(){var u=document.createElement("div");this.prevBtnEl=r("hopscotch-prev",j.prevBtn);this.nextBtnEl=r("hopscotch-next",j.nextBtn);this.doneBtnEl=r("hopscotch-done",j.doneBtn);i.addClass(this.doneBtnEl,"hide");u.appendChild(this.prevBtnEl);u.appendChild(this.nextBtnEl);u.appendChild(this.doneBtnEl);i.addClickListener(this.prevBtnEl,function(v){l.prevStep()});i.addClickListener(this.nextBtnEl,function(v){l.nextStep()});i.addClickListener(this.doneBtnEl,l.endTour);u.id="hopscotch-actions";this.buttonsEl=u;this.containerEl.appendChild(u);return this};this.initCloseButton=function(){var u=document.createElement("a");u.id="hopscotch-bubble-close";u.href="#";u.title=j.closeTooltip;u.innerHTML=j.closeTooltip;i.addClickListener(u,function(w){var v=l.getCurrStepNum(),x=l.getCurrTour(),y=(v===x.steps.length-1);i.invokeCallbacks("close",[x.id,v]);l.endTour(true,y);if(w.preventDefault){w.preventDefault()}else{if(event){event.returnValue=false}}});this.closeBtnEl=u;this.containerEl.appendChild(u);return this};this.initArrow=function(){var u,v;this.arrowEl=document.createElement("div");this.arrowEl.id="hopscotch-bubble-arrow-container";v=document.createElement("div");v.className="hopscotch-bubble-arrow-border";u=document.createElement("div");u.className="hopscotch-bubble-arrow";this.arrowEl.appendChild(v);this.arrowEl.appendChild(u);this.element.appendChild(this.arrowEl);return this};this.renderStep=function(w,B,x,y,C){var D=this,v=i.valOrDefault(w.showNextButton,s.showNextButton),u=i.valOrDefault(w.showPrevButton,s.showPrevButton),A,z;n=w;this.setTitle(w.title?w.title:"");this.setContent(w.content?w.content:"");this.setNum(B);this.orientation=w.orientation;this.showPrevButton(this.prevBtnEl&&u&&(B>0||x>0));this.showNextButton(this.nextBtnEl&&v&&!y);this.nextBtnEl.value=w.showSkip?j.skipBtn:j.nextBtn;if(y){i.removeClass(this.doneBtnEl,"hide")}else{i.addClass(this.doneBtnEl,"hide")}this.setArrow(w.orientation);A=i.getPixelValue(w.width)||s.bubbleWidth;z=i.valOrDefault(w.padding,s.bubblePadding);this.containerEl.style.width=A+"px";this.containerEl.style.padding=z+"px";this.element.style.zIndex=(w.zindex?w.zindex:"");if(w.orientation==="top"){setTimeout(function(){q(D,w);if(C){if(!w.fixedElement){C()}else{D.show()}}},5)}else{q(this,w);if(C){if(!w.fixedElement){C()}else{D.show()}}}return this};this.setTitle=function(u){if(u){this.titleEl.innerHTML=u;i.removeClass(this.titleEl,"hide")}else{i.addClass(this.titleEl,"hide")}return this};this.setContent=function(u){if(u){this.contentEl.innerHTML=u;i.removeClass(this.contentEl,"hide")}else{i.addClass(this.contentEl,"hide")}return this};this.setNum=function(u){if(j.stepNums&&u<j.stepNums.length){u=j.stepNums[u]}else{u=u+1}this.numberEl.innerHTML=u};this.setArrow=function(u){if(u==="top"){this.arrowEl.className="down"}else{if(u==="bottom"){this.arrowEl.className="up"}else{if(u==="left"){this.arrowEl.className="right"}else{if(u==="right"){this.arrowEl.className="left"}}}}};this.getArrowDirection=function(){if(this.orientation==="top"){return"down"}if(this.orientation==="bottom"){return"up"}if(this.orientation==="left"){return"right"}if(this.orientation==="right"){return"left"}};this.show=function(){var u=this,v="fade-in-"+this.getArrowDirection(),w=1000;i.removeClass(this.element,"hide");if(s.animate){setTimeout(function(){i.addClass(u.element,"animate")},50)}else{i.addClass(this.element,v);setTimeout(function(){i.removeClass(u.element,"invisible")},50);setTimeout(function(){i.removeClass(u.element,v)},w)}o=true;return this};this.hide=function(u){var v=this.element;u=i.valOrDefault(u,true);v.style.top="";v.style.left="";if(u){i.addClass(v,"hide");i.removeClass(v,"invisible")}else{i.removeClass(v,"hide");if(!s.animate){i.addClass(v,"invisible")}}i.removeClass(v,"animate fade-in-up fade-in-down fade-in-right fade-in-left");o=false;return this};this.showPrevButton=function(u,v){p(this.prevBtnEl,u,v)};this.showNextButton=function(u,v){p(this.nextBtnEl,u,v)};this.showCloseButton=function(u,v){p(this.closeBtnEl,u,v)};this.initAnimate=function(){var u=this;setTimeout(function(){i.addClass(u.element,"animate")},50)};this.removeAnimate=function(){i.removeClass(this.element,"animate")};t.call(this)};m=function(t){var B="hopscotch.tour.state",x,o,w,q,E,v,n,C,r,u=function(){if(!x){x=new e(o)}return x},z=function(){var F=w.steps[q];return(F.length>0)?F[E]:F},y=function(){return w.steps[q].length>0},s=function(){var F=w.steps[q].length;if(E<F-1){++E;return true}else{if(q<w.steps.length-1){++q;E=y()?0:undefined;return true}}return false},D=function(){var F;if(E>0){--E;return true}else{if(q>0){F=w.steps[--q].length;if(F){E=F-1}else{E=undefined}return true}}return false},p=function(Q){var O=u(),Y=O.element,U=i.getPixelValue(Y.style.top),T=U+i.getPixelValue(Y.offsetHeight),R=i.getStepTarget(z()),Z=R.getBoundingClientRect(),W=Z.top+i.getScrollTop(),S=Z.bottom+i.getScrollTop(),M=(U<W)?U:W,F=(T>S)?T:S,V=i.getScrollTop(),H=V+i.getWindowHeight(),I=M-o.scrollTopMargin,P=this,G,L,K,X,J,N;if(typeof YAHOO!==h&&typeof YAHOO.env!==h&&typeof YAHOO.env.ua!==h&&typeof YAHOO.util!==h&&typeof YAHOO.util.Scroll!==h){G=YAHOO.env.ua.webkit?document.body:document.documentElement;K=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:undefined;L=new YAHOO.util.Scroll(G,{scroll:{to:[0,I]}},o.scrollDuration/1000,K);L.onComplete.subscribe(Q);L.animate();return}if(I<0){I=0}if(M>=V&&M<=V+o.scrollTopMargin){if(Q){Q()}return}if(M<V||F>H){if(o.smoothScroll){X=(V>M)?-1:1;J=Math.abs(V-I)/(o.scrollDuration/10);N=setInterval(function(){var ab=i.getScrollTop(),aa=ab+(X*J);if((X>0&&aa>=I)||X<0&&aa<=I){aa=I;clearInterval(N);if(Q){Q()}window.scrollTo(0,aa);return}window.scrollTo(0,aa);if(i.getScrollTop()===ab){clearInterval(N);if(Q){Q()}}},10)}else{window.scrollTo(0,I);if(Q){Q()}}}else{if(Q){Q()}return}},A=function(){if(t){this.configure(t)}};this.loadTour=function(K){var I={},G,L,H,F,J;w=K;for(L in K){if(K.hasOwnProperty(L)&&L!=="id"&&L!=="steps"){I[L]=K[L]}}this.resetDefaultOptions();r.call(this,I,true);F=i.getState(o.cookieName);if(F){J=F.split(":");v=J[0];n=J[1];C=undefined;H=n.split("-");if(H.length>1){n=parseInt(H[0],10);C=parseInt(H[1],10)}else{n=parseInt(n,10)}if(J.length>2&&J[2]==="mp"){if(C&&C<w.steps[n].length-1){++C}else{if(n<w.steps.length-1){++n;if(w.steps[n].length>0){C=0}else{C=undefined}}}}}G=u();G.showPrevButton(o.showPrevButton,true);G.showNextButton(o.showNextButton,true);return this};this.startTour=function(I,H){var F,G;if(!w){throw"Need to load a tour before you start it!"}if(document.readyState!=="complete"){b=true;return this}if(typeof I!==h){q=I;E=H}else{if(w.id===v&&typeof n!==h){q=n;E=C;G=z();if(!i.getStepTarget(G)){D();G=z();if(!i.getStepTarget(G)){this.endTour(false,false);return this}}}else{q=0}}if(!E&&y()){E=0}i.invokeCallbacks("start",[w.id,q]);F=u();this.isActive=true;if(o.animate){F.initAnimate()}if(!i.getStepTarget(z())){i.invokeCallbacks("error",[w.id,q]);if(o.skipIfNoElement){this.nextStep(false)}}else{this.showStep(q,E)}return this};this.showStep=function(O,G){var I=w.steps,H=I[O],F=I.length,M=w.id+":"+O,L=u(),K=i.valOrDefault(H.delay,0),N=this,J;q=O;E=G;if(!o.animate){L.hide(false)}if(typeof G!==h&&y()){H=H[G];M+="-"+G}J=(O===F-1)||(G>=H.length-1);setTimeout(function(){L.renderStep(H,O,G,J,function(){p(function(){L.show.call(L)});if(H.onShow){H.onShow()}});i.invokeCallbacks("show",[w.id,q])},K);if(H.multipage){M+=":mp"}i.setState(o.cookieName,M,1);return this};this.prevStep=function(){var H=z(),G=false,F=u();if(H.onPrev){H.onPrev()}i.invokeCallbacks("prev",[w.id,q]);if(o.skipIfNoElement){while(!G&&D()){H=z();G=i.getStepTarget(H);if(!G){i.invokeCallbacks("error",[w.id,q])}}if(!G){return this.endTour(true,false)}}else{if(D()){H=z();if(!i.getStepTarget(H)){i.invokeCallbacks("error",[w.id,q]);return this.endTour(true,false)}}}this.showStep(q,E);return this};this.nextStep=function(J){var I=z(),H=q,G=false,F=u();J=i.valOrDefault(J,true);if(o.skipIfNoElement){while(!G&&s()){I=z();G=i.getStepTarget(I);if(!G){i.invokeCallbacks("error",[w.id,q])}}if(!G){return this.endTour(true,false)}}else{if(s()){I=z();if(!i.getStepTarget(I)){i.invokeCallbacks("error",[w.id,q]);return this.endTour(true,false)}}}if(J){if(I.onNext){I.onNext()}i.invokeCallbacks("next",[w.id,H])}this.showStep(q,E);return this};this.endTour=function(H,G){var F=u();H=i.valOrDefault(H,true);G=i.valOrDefault(G,true);q=0;E=undefined;n=undefined;F.hide();if(H){i.clearState(o.cookieName)}l.isActive=false;if(G){i.invokeCallbacks("end",[w.id])}l.removeCallbacks(true);return this};this.getCurrTour=function(){return w};this.getCurrStepNum=function(){return q};this.getCurrSubstepNum=function(){return E};this.addCallback=function(H,F,G){if(F){g[H].push({cb:F,fromTour:G})}return this};this.removeCallbacks=function(G){var J,H,F,I;for(I in g){if(G){J=g[I];for(H=0,F=J.length;H<F;++H){if(J[H].fromTour){J.splice(H--,1);--F}}}else{g[I]=[]}}return this};this.setCookieName=function(F){B=F;o.cookieName=F};this.resetDefaultOptions=function(){o={animate:false,smoothScroll:true,scrollDuration:1000,scrollTopMargin:200,showCloseButton:true,showPrevButton:false,showNextButton:true,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:true,cookieName:B}};r=function(G,H){var F;if(!o){this.resetDefaultOptions()}i.extend(o,G);if(G){i.extend(j,G.i18n)}this.addCallback("next",G.onNext,H).addCallback("prev",G.onPrev,H).addCallback("start",G.onStart,H).addCallback("end",G.onEnd,H).addCallback("show",G.onShow,H).addCallback("error",G.onError,H).addCallback("close",G.onClose,H);F=u();if(o.animate){F.initAnimate()}else{F.removeAnimate()}F.showPrevButton(o.showPrevButton,true);F.showNextButton(o.showNextButton,true);F.showCloseButton(o.showCloseButton,true);return this};this.configure=function(F){return r.call(this,F,false)};A.call(this,t)};l=new m();c[d]=l}(window,"hopscotch"));